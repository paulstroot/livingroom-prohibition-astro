---
const { html, aspectRatio = "landscape", class: className, ...restProps } = Astro.props;

const htmlAttributes = Object.fromEntries(
  Object.entries(restProps).filter(([key]) => key !== "_component")
);
---

<div
  class:list={["embed-wrapper", `ratio-${aspectRatio}`, className]}
  set:html={html}
  {...htmlAttributes}
/>

<style>
  .embed-wrapper {
    margin-top: var(--spacing-lg);

    :global(iframe) {
      border: none;
      display: block;
      height: 100%;
      width: 100%;
    }

    &.ratio-square {
      aspect-ratio: var(--ratio-square);
    }

    &.ratio-landscape {
      aspect-ratio: var(--ratio-landscape);
    }

    &.ratio-portrait {
      aspect-ratio: var(--ratio-portrait);
    }

    &.ratio-widescreen {
      aspect-ratio: var(--ratio-widescreen);
    }
  }
</style>
