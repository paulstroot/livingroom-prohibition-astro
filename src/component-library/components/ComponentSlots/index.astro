---
const { slotData } = Astro.props;

const slots = slotData;
---

<div class="slots">
  {
    slots.map((slot) => (
      <div class="slot">
        <h3>{slot.title}</h3>
        {slot.description && (
          <p>
            {slot.description}
            {slot.fallback_for && (
              <>
                {" "}
                Used only when the <code>{slot.fallback_for}</code> property is not set.
              </>
            )}
          </p>
        )}
        {slot.child_component && (
          <div class="wrapper-component">
            <strong>Child Component:</strong>
            <div class="wrapper-details">
              <div class="wrapper-name">
                <code>&lt;{slot.child_component.name}&gt;</code>
              </div>
              {slot.child_component.props && slot.child_component.props.length > 0 && (
                <div class="wrapper-props">
                  <span class="label">
                    Properties (documented under the <code>{slot.fallback_for}</code> property
                    above):
                  </span>
                  <ul>
                    {slot.child_component.props.map((prop) => (
                      <li>
                        <code>{prop}</code>
                      </li>
                    ))}
                  </ul>
                </div>
              )}
            </div>
          </div>
        )}
      </div>
    ))
  }
</div>

<style>
  .slots {
    .slot {
      border-top: 1px solid var(--color-border-subtle);
      padding-block: var(--spacing-md);

      code {
        padding: 0;
      }

      h3 {
        font-family: var(--font-mono);
        font-size: var(--font-size-md);
        font-weight: var(--font-weight-bold);
      }

      .wrapper-component {
        margin-top: var(--spacing-md);

        strong {
          color: var(--text-subtle-textColor);
          display: block;
          font-size: var(--font-size-sm);
          letter-spacing: 0.05em;
          text-transform: uppercase;
        }

        .wrapper-details {
          border: 1px solid var(--color-border-subtle);
          border-radius: var(--radius-xs);
          margin-top: var(--spacing-sm);
          padding: var(--spacing-md);

          .wrapper-name {
            code {
              font-size: var(--font-size-md);
            }
          }

          .wrapper-props {
            margin-top: var(--spacing-sm);

            .label {
              color: var(--text-subtle-textColor);
              font-size: var(--font-size-sm);
              font-weight: var(--font-weight-medium);
            }

            ul {
              display: flex;
              flex-wrap: wrap;
              gap: var(--spacing-md);
              list-style: none;
              margin: var(--spacing-xs) 0 0;
              padding: 0;
            }

            li {
              code {
                font-size: var(--font-size-sm);
              }
            }
          }
        }
      }
    }
  }
</style>
